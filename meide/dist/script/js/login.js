(function(){var b=$("#zhuce");var e=$("#log");var d=$(".registor");var c=$(".login");b.on("click",function(){d.show();c.hide()});e.on("click ",function(){d.hide();c.show()})})();(function(){function a(d,e,b){var c=new Date();c.setDate(c.getDate()+b);document.cookie=d+"="+encodeURI(e)+";expires="+c}$("#btn_login").on("click",function(){var c=$("#usertel").val();var b=$("#userpassword").val();$.ajax({type:"post",url:"../php/login.php",data:{name:c,pass:b},success:function(d){if(!d){$("#error").html("用户名或者密码错误");$("#userpassword").val("")}else{a("UserName",c,7);location.href="index.html"}}})})})();(function(){var b=$("#yanzheng");var e=$("#yanzhengma");var a=$("#result");var c;function d(){c="";var h=4;var k=b;var j=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z");for(var g=0;g<h;g++){var f=Math.floor(Math.random()*36);c+=j[f]}k.val(c)}b.on("click",function(){d()});e.on("blur",function(){var f=$("#yanzheng").val().toUpperCase();a.html("");if(f==""){a.html("请输入验证码")}else{if(f!=c){a.html("验证码不正确，请重新输入");f="";d()}else{a.html("<font color='green'>√</font>")}}})})();(function(){$(function(){$("#form1").validate({rules:{username:{required:true,minlength:11,isPhone:true,remote:{url:"../php/reg.php",type:"post"}},yanzhengma:{required:true,equalTo:"#yanzheng"},password:{required:true,minlength:6},repass:{required:true,equalTo:"#password"},},messages:{username:{required:"手机号不能为空",minlength:"手机号格式不正确",isPhone:"手机号格式不正确",remote:"用户名已存在"},yanzhengma:{required:"验证码不能为空",equalTo:"验证码不匹配"},password:{required:"密码不能为空",minlength:"密码长度不够"},repass:{required:"密码重复不能为空",equalTo:"密码不一致"},}})});$.validator.setDefaults({success:function(a){a.text("√").css("color","green").addClass("valid")}});jQuery.validator.addMethod("isPhone",function(d,b){var c=d.length;var a=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1}))+\d{8})$/;return this.optional(b)||(c==11&&a.test(d))},"请填写正确的手机号码")})();